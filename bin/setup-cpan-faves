#!/bin/bash
set -euo pipefail

dists=(
  App::cpanminus
  App::cpm

  Perl::Tidy
  Pod::Cpandoc

  experimentals

  Reply
  Data::Printer
  Data::Printer::Filter::JSON
  Data::Printer::Filter::URI
  Carp::Always
  B::Keywords
  Term::ReadLine::Gnu
  Class::Refresh
  Pry

  Path::Tiny
  Getopt::Long::Descriptive
)

if ! (command -v cpm && cpm -V) &>/dev/null; then
  cpm() {
    curl -fsSL --compressed https://git.io/cpm | perl - $@
  }
fi

cpm install -g "${dists[@]}"

plenv rehash || :
